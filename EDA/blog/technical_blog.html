<!DOCTYPE html>
<html>
    <head>
        <meta content="text/html; charset=unicode" http-equiv="Content-Type" />
        <link type="text/css" rel="stylesheet" href="../main.css" />
        <title>Jesse Eedrah - Dev Academy</title>
    </head>
    <body>
        <div class="page">
            <h1>Technical blog</h1>
            <ul class="menu">
                <a href="/EDA/blog/cultural_blog.html"><li>Cultural blog</li></a>
                <a href="/EDA/blog/technical_blog.html"><li>Technical blog</li></a>
                <a href="http://github.com/eedrah"><li>Projects</li></a>
                <a href="#"><li>About me</li></a>
                <a href="#"><li>Contact</li></a>
            </ul>
            <div class="content">
                <h2><a id="2014-12-13" href="#2014-12-13">Random numbers and a bit of Singleton</a></h2>
                <p class="date">2014-12-13</p>

                <p>I thought I'd touch a bit on generating random numbers in C#. Probably the simplest class one could use is the <em>Random</em> class. It would be a simple exercise to create a 6-sided die.</p>

<pre class='csharpcode'><span class='keyword'>public</span> <span class='keyword'>class</span> <span class='type'>BadDie</span> {
    <span class='keyword'>public</span> <span class='keyword'>int</span> Roll() {
        <span class='type'>Random</span> random_generator = <span class='keyword'>new</span> <span class='type'>Random</span>();
        <span class='keyword'>return</span> random_generator.Next(6) + 1;
        }
    }
</pre>
                <p>Let's examine the output of the subtly named <em>BadDie</em>:</p>

<pre class='csharpcode'>
<span class='type'>var</span> bad_die = <span class='keyword'>new</span> <span class='type'>BadDie</span>();
<span class='type'>Console</span>.WriteLine(bad_die.Roll());
<span class='type'>Console</span>.WriteLine(bad_die.Roll());
<span class='type'>Console</span>.WriteLine(bad_die.Roll());
<span class='type'>Console</span>.WriteLine(bad_die.Roll());</pre>

<pre class='console'>4
4
4
4
</pre>
                <p>What's going on here? I can assure you - while it might not seem like it, <a href="http://xkcd.com/221/">this is indeed completely random</a>. However, a problem arises when the die is rolled in quick succession. The random number generator in the <em>Random</em> object is initialised by a seed drawn from the system time. Thus, when multiple <em>Random</em> objects are initialised fast enough they produce the same random numbers. Let's fix this:</p>

<pre class='csharpcode'><span class='keyword'>public</span> <span class='keyword'>class</span> <span class='type'>MediocreDie</span> {
    <span class='keyword'>private</span> <span class='type'>Random</span> random_generator = <span class='keyword'>new</span> <span class='type'>Random</span>();
    <span class='keyword'>public</span> <span class='keyword'>int</span> Roll() {
        <span class='keyword'>return</span> random_generator.Next(6) + 1;
        }
    }
</pre>

                <p>Here we have pulled the <em>Random</em> object out of the <em>Roll</em> method and stored it as a field in the instance. Now we can re-<em>Roll</em> the die without restarting the random number generator.</p>

<pre class='csharpcode'>
<span class='type'>var</span> mediocre_die_1 = <span class='keyword'>new</span> <span class='type'>MediocreDie</span>();
<span class='type'>Console</span>.WriteLine(mediocre_die_1.Roll());
<span class='type'>Console</span>.WriteLine(mediocre_die_1.Roll());
<span class='type'>var</span> mediocre_die_2 = <span class='keyword'>new</span> <span class='type'>MediocreDie</span>();
<span class='type'>Console</span>.WriteLine(mediocre_die_2.Roll());
<span class='type'>Console</span>.WriteLine(mediocre_die_2.Roll());
</pre>

<pre class='console'>
4
1
4
1
</pre>

                <p>Success! The first two numbers are different. But look what is happening with the second die. Because this code is running very quickly, the system time when the second die is instantiated has not changed since the first. The random numbers it produces is from the same seed as the first. We need to go deeper.</p>

<pre class='csharpcode'><span class='keyword'>public</span> <span class='keyword'>class</span> <span class='type'>GoodDie</span> {
    <span class='keyword'>private</span> <span class='keyword'>static</span> <span class='type'>Random</span> random_generator = <span class='keyword'>new</span> <span class='type'>Random</span>();
    <span class='keyword'>public</span> <span class='keyword'>int</span> Roll() {
        <span class='keyword'>return</span> random_generator.Next(6) + 1;
        }
    }
</pre>

                <p>By marking the <em>Random</em> object as <em>static</em> we ensure that every object of that class shares the same random number generator. This means that we won't double-up on random numbers, as all the numbers are coordinated by the same <em>Random</em> object, even if they belong to different dice.</p>

<pre class='csharpcode'>
<span class='type'>var</span> good_die = <span class='keyword'>new</span> <span class='type'>GoodDie</span>();
<span class='type'>Console</span>.WriteLine(good_die.Roll());
<span class='type'>Console</span>.WriteLine(good_die.Roll());
<span class='type'>Console</span>.WriteLine(good_die.Roll());
<span class='type'>Console</span>.WriteLine(good_die.Roll());
</pre>

<pre class='console'>
4
1
3
1
</pre>

                <p>Why don't we choose a movie to watch at the same time we throw dice?</p>

<pre class='csharpcode'>
<span class='type'>var</span> star_wars_movies = <span class='keyword'>new</span> <span class='type'>StarWarsMovies</span>();
<span class='type'>Console</span>.WriteLine(star_wars_movies.Random());
<span class='type'>Console</span>.WriteLine(star_wars_movies.Random());
<span class='type'>Console</span>.WriteLine(star_wars_movies.Random());
<span class='type'>Console</span>.WriteLine(star_wars_movies.Random());
</pre>

<pre class='console'>
Episode IV: Star Wars
Episode I: The Phantom Menace
Episode III: Revenge of the Sith
Episode I: The Phantom Menace
</pre>

                <p>Oh no, not only does it look like we have to watch The Phantom Menace twice, but it appears that our <em>GoodDie</em> managed to use the same random numbers as our movie picker.</p>

<pre class='csharpcode'><span class='keyword'>public</span> <span class='keyword'>class</span> <span class='type'>SingletonRandom</span> {
    <span class='keyword'>private</span> <span class='keyword'>static</span> <span class='keyword'>readonly</span> <span class='type'>Random</span> random_generator = <span class='keyword'>new</span> <span class='type'>Random</span>();
    <span class='keyword'>public</span> <span class='keyword'>static</span> <span class='type'>Random</span> Generator {
        <span class='keyword'>get</span> {<span class='keyword'>return</span> random_generator; }  <span class='comment'>// Property - so I can return an object using &quot;my_var.Generator&quot; rather than &quot;my_var.Generator()&quot;.</span>
        }
    <span class='keyword'>private</span> SingletonRandom(){}  <span class='comment'>// Private constructor so class cannot be instantiated</span>
    <span class='keyword'>static</span> SingletonRandom(){}  <span class='comment'>// Must be here for eager instantiation, see http://csharpindepth.com/articles/general/BeforeFieldInit.aspx</span>
    }
</pre>
    
<pre class='csharpcode'>
<span class='keyword'>public</span> <span class='keyword'>class</span> <span class='type'>BestDie</span> {
    <span class='keyword'>public</span> <span class='keyword'>int</span> Roll() {
        <span class='keyword'>return</span> SingletonRandom.Generator.Next(6) + 1;
        }
    }

<span class='keyword'>public</span> <span class='keyword'>class</span> <span class='type'>StarWarsMovies</span> {
    <span class='keyword'>private</span> <span class='keyword'>static</span> <span class='keyword'>readonly</span> <span class='keyword'>string</span>[] movies = <span class='keyword'>new</span> <span class='keyword'>string</span>[] {
        <span class='string'>&quot;Episode I: The Phantom Menace&quot;</span>,
        <span class='string'>&quot;Episode II: Attack of the Clones&quot;</span>,
        <span class='string'>&quot;Episode III: Revenge of the Sith&quot;</span>,
        <span class='string'>&quot;Episode IV: Star Wars&quot;</span>,
        <span class='string'>&quot;Episode V: The Empire Strikes Back&quot;</span>,
        <span class='string'>&quot;Episode VI: Return of the Jedi&quot;</span>
        };
    <span class='keyword'>public</span> <span class='keyword'>string</span> Random() {
        <span class='keyword'>return</span> movies[<span class='type'>SingletonRandom</span>.Generator.Next(6)];
        }
    }
</pre>


<pre class='csharpcode'>
<span class='type'>var</span> star_wars_movies = <span class='keyword'>new</span> <span class='type'>StarWarsMovies</span>();
<span class='type'>Console</span>.WriteLine(star_wars_movies.Random());
<span class='type'>Console</span>.WriteLine(star_wars_movies.Random());
<span class='type'>Console</span>.WriteLine(star_wars_movies.Random());
<span class='type'>Console</span>.WriteLine(star_wars_movies.Random());
</pre>
<pre class='csharpcode'>
<span class='type'>var</span> best_die = <span class='keyword'>new</span> <span class='type'>BestDie</span>();
<span class='type'>Console</span>.WriteLine(best_die.Roll());
<span class='type'>Console</span>.WriteLine(best_die.Roll());
<span class='type'>Console</span>.WriteLine(best_die.Roll());
<span class='type'>Console</span>.WriteLine(best_die.Roll());
</pre>

                <p class="signature">Eedrah.</p>

                <h2><a id="2014-12-03" href="#2014-12-03">Basic C# containers</a></h2>
                <p class="date">2014-12-03</p>
                <p>We had an introduction to C# in this weeks material. One of the concepts we covered was storing data inside ArrayLists and Hashtables. Boths these data types have the advantage of being able to add items at runtime to the collection. However, their implementation is quite different.</p>

                <p>An ArrayList is an <em>ordered</em> collection of objects. Each of these objects can be of a different type, and each is accessible by an index. Indexing starts at 0, so the 4th object in the ArrayList is accessible with the index '3'.</p>

                <p>A Hashtable is an <em>unordered</em> collection of <em>key-value pairs</em>. They are not indexable by integers, but rather you index them by the key that you specify. That is, if a Hashtable has a stored pair with key "Favourite fruit" and value "apple", you can retrieve the value "apple" with an index of "Favourite fruit".</p>

                <p>Choosing between the two can be more of an art than a science, but there are some helpful guidelines. Consider if it is important that your data is ordered at all. If so, you may want to use the ArrayList. Also consider how you want to retrieve your data. If it is more logical to retrieve it by a particular key, such as "Favourite fruit" or "The process belonging to ID #3732" then you might want to store your data in a Hashtable with your chosen key.</p>

                <p>In reality, you won't want to use the ArrayList or the Hashtable. These are old classes that have been discouraged in favour of new ones, such as the List and the Dictionary. For more about these, and the reasons why they are better, see <a href="http://geekswithblogs.net/BlackRabbitCoder/archive/2011/06/16/c.net-fundamentals-choosing-the-right-collection-class.aspx">this blog post</a>.</p>

                <p class="signature">Eedrah.</p>

                <h2><a id="2014-11-25" href="#2014-11-25">CSS positioning</a></h2>
                <p class="date">2014-11-25</p>
                <p>This week's material started us on basic HTML and CSS. I'd like to talk about a subject that I have been struggling with during this week: static, relative, absolute and fixed positioning. What are the differences between them?</p>

                <h3>Static</h3>
                <p>Static is the default for every element. This tells the browser to place it in the logical location in the browser window according to its 'display' and 'float' properties and its order in the html. Note that the 'top', 'left', 'bottom' and 'right' properties are ignored if the position is 'static'.</p>

                <h3>Relative</h3>
                <p>Think of 'relative' is very similar to 'static'. The browser places the element in the default location in the document. But after doing so (and affecting the locations of the surrounding elements) it then moves the element by the amount in the 'top', 'left', 'bottom' and 'right' properties. It is important to note that the space reserved for it in the flow of the document is kept (and looks like a hole the size of the element). In addition, there is not a space reserved for its new location - and so can appear above or below other elements. Appearing above static elements is the default, and there is a property called the 'z-order' which can be used to get it below other elements - but that's a different blog post!</p>
                <p>Relative elements also serve as a reference point to absolute elements that are its children. Speaking of which...</p>

                <h3>Absolute</h3>
                <p>When an element is positioned as 'absolute' it is removed from the normal flow of the document. It doesn't take up any space and all the other 'static' and 'relative' elements can be placed where it would otherwise have been.</p>
                <p>Instead, it is positioned in reference to its first parent element that is not positioned as 'static'; and to &lt;html&gt; if all its parents are static. It then consults the 'top', 'left', 'bottom' and 'right' properties to place the element at the specified place from that parent.</p>
                <p>For example, to place an element at the bottom of an empty page you can set it to 'position: absolute' and 'bottom: 0'. (Note: this is an example and not the best way to do this. This way the footer element will overlap some body content at the bottom of the page. See [Ryan Fait's Sticky Footer](http://ryanfait.com/sticky-footer/) for a better way.)</p>
                <p>Arguably, the real power of absolute positioning is in its powerful combos. A common one is to create two divs, one inside the other, making the outer div 'position: relative' and the inner div 'position: absolute' and 'top: 0', 'right': 0'. This will enable the inner div to always be positioned at the top right corner of the outer div while at the same time the outer div is free to grow and shrink to fit its contents. This is perfect for something like an exit button!</p>

                <h3>Fixed</h3>
                <p>The fourth and last position an element can have is 'fixed'. Like 'absolute', 'fixed' removes the element from the normal flow of the document. It then repositions it relative to the browser window. For example, if an element was positioned 'top: 0' and 'right: 0' then it would always remain in the top right of the browser, regardless of where the user scrolls on the page. Care must be taken that this element does not cover up other information intended for the user. The 'z-order' is also important to consider here.</p>
                <p>It seems like a lot of care needs to be taken to use fixed positioning, but it can produce quite a striking effect when used correctly.</p>

                <h3>Inherit and Initial</h3>
                <p>Two more options are valid when setting the position, but they are not positions in themselves. 'inherit' tells the browser to set the position to the same as the parent element. 'initial' sets the position to the default - but this is always 'static' so 'initial' is probably better left unused in favour of 'static'.</p>

                <p class="signature">Eedrah.</p>

                <h2><a id="2014-11-15" href="#2014-11-15">Hello tech world! - and git</a></h2>
                
                <p class="date">2014-11-15</p>
                
                <p>I've now reached the end of the first week of material for Dev Academy. This, I imagine, will be the first of many posts about what we are learning on the course.</p>

                <p>I'll be honest: I'm not much of a writer so I am guessing these posts will be fairly short. I'll try and keep them up, however.</p>

                <p>For the uninitiated, this week's material was on 'git' - a system for version control. Version control is all about keeping track of different versions of files, especially when they are edited by multiple users. It enables users to track what others are doing, work on multiple versions, edit concurrently without fear of breaking something for yourself and someone else, and revert back to a past version if you need to (and back to the future again!).</p>

                <p>GitHub is in the same ecosystem as git. GitHub is a website and service that enables you to save your projects (called 'repositories') on their servers so that multiple users can access the same repositories without needing to directly connect their computers to each other. Alternatively, you can use it as a place to store your code as a backup to your computer.</p>

                <p>That's week 1 for now - we'll be back for week 2!</p>

                <p class="signature">Eedrah.</p>

            </div>
        </div>
    </body>
</html>